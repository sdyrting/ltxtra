my_plot
my_plot <- plot_data %>% filter(Year == 1900,name == 'vx') %>% mutate(fx = ex*(1+log(lx))) %>% ggplot() + geom_line(aes(x=Age,y=value,group=name)) + geom_line(aes(x=Age,y=fx))
my_plot <- swe_dalt %>% filter(Year == 1900) %>% ggplot() + geom_line(aes(x=Age,y=value,group=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx))))
my_plot
my_plot <- swe_dalt %>% filter(Year == 1900) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx))))
my_plot
my_plot <- swe_dalt %>% filter(Year == 1920) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx))))
my_plot <- swe_dalt %>% filter(Year == 1920) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx/100000))))
my_plot
my_plot <- swe_dalt %>% filter(Year == 1900) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx/100000))))
my_plot
my_plot <- swe_dalt %>% filter(Year == 1861) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx/100000))))
my_plot
my_plot <- swe_dlt %>% filter(Year == 1861) %>% ggplot() + geom_line(aes(x=Age,y=vx)) + geom_line(aes(x=Age,y=ex*(1+log(lx/100000))))
my_plot
load_all()
test
test()
check()
library(ltxtra)
library(dplyr)
library(ggplot2)
head(aus_2021_2023 %>% select(!c(mx,ax)))
daus_lt <- aus_2021_2023 %>% group_by(State,Sex) %>% lifedisp()
head(daus_lt %>% select(!c(mx,ax)))
daus_lt %>% ggplot() +
geom_line(aes(x=Age,y=vx,group=State,colour=State)) +
labs(y='Life Disparity')+
facet_wrap(vars(Sex))
library(HMDHFDplus)
library(HMDHFDplus)
prefectures <- getJMDprefectures()
prefectures
library(HMDHFDplus)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_f <- readJMDweb(prefID,"fltper_1x1") %>%
group_by(Year) %>% lifedisp()
library(dplyr)
library(HMDHFDplus)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_f <- readJMDweb(prefID,"fltper_1x1") %>%
group_by(Year) %>% lifedisp()
library(dplyr)
library(HMDHFDplus)
library(ltxtra)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_f <- readJMDweb(prefID,"fltper_1x1") %>%
group_by(Year) %>% lifedisp()
View(jpn_f)
View(jpn_f)
library(dplyr)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
ggplot() +
geom_line(aes(x=Year,y=vx, group=Sex,colour=Sex)) +
labs(y='Adult Life Disparity')
?pivot_longer
library(dplyr)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(names)) +
labs(y='Adult Life Disparity')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(names)) +
labs(y='Adult Life Disparity')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name)) +
labs(y='Adult Life Disparity')
?facet_wrap
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name),scales='free') +
labs(y='Adult Life Disparity')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=refactor(name,levels=c('Adult Life Expectancy','Adult Life Disparity')))) %>%
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=refactor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 15) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
jpn_lt %>%
filter(Age == 0) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(vars(name),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readcHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefectures <- getJMDprefectures()
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readcHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
?readCHMDweb
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readcHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols(name),rows(Country),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols(name),rows(Country),scales='free') +
labs(y='Years')
?facet_grid
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols=vars(name),rows=vars(Country),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols=vars(name),rows=vars(Country),scales='free_y') +
labs(y='Years')
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols=vars(name),rows=vars(Country),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(rows=vars(Country),scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_grid(cols=vars(name),rows=vars(Country),scales='free') +
labs(y='Years')
?facet_wrap
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
can_lt <- readCHMDweb(item="fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readCHMDweb(item="mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
bind_rows(can_lt %>% mutate(Country='Canada')) %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(facets=vars(name,Country),ncol=2,scales='free') +
labs(y='Years')
library(tidyverse)
library(HMDHFDplus)
library(ltxtra)
library(ggplot2)
prefID <- '00' #All Japan
jpn_lt <- readJMDweb(prefID,"fltper_1x1") %>%
mutate(Sex = 'Female') %>%
bind_rows(readJMDweb(prefID,"mltper_1x1") %>%
mutate(Sex = 'Mate')) %>%
group_by(Year,Sex) %>% lifedisp()
adult_age <- 15
jpn_lt %>% mutate(Country='Japan') %>%
filter(Age == adult_age) %>%
pivot_longer(cols=c(ex,vx)) %>%
mutate(name=ifelse(name == 'ex', 'Adult Life Expectancy','Adult Life Disparity'),
name=factor(name,levels=c('Adult Life Expectancy','Adult Life Disparity'))) %>%
ggplot() +
geom_line(aes(x=Year,y=value, group=Sex,colour=Sex)) +
facet_wrap(facets=vars(name),ncol=2,scales='free') +
labs(y='Years')
load_all()
library(devtools)
load_all()
test()
check()
library(pak)
pak::pad('sdyrting\ltxtra')
pak::pad('sdyrting/ltxtra')
pak::pak('sdyrting/ltxtra')
citation('ltxtra')
